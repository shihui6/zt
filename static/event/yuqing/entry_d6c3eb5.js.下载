!function(){var t=require("common:widget/jquery/jquery.js"),i=require("common:widget/underscore/underscore.js"),e={"#section-0":{},"#section-1":{},"#section-2":{},"#section-3":{},"#section-4":{}},n={init:function(){this.activateBannerAnimate(),this.activateSceneSlider(),this.bindScrollAnimation(),this.detectVisibleGroup(e),this.bindBaiduStat()},bindBaiduStat:function(){t(".yuqing-api").on("click",function(){window._hmt&&window._hmt.push(["_trackEvent","首页-API","点击"])}),t(".get-detail").on("click",function(){var i=t(this).attr("data-url"),e=t(this).attr("data-name");_hmt&&_hmt.push(["_trackEvent","了解详情-"+e,"点击"]),window.location.href=i})},isScrolledIntoView:function(i){var e=t(window).scrollTop();return i<=e+t(window).height()-200},detectVisibleGroup:function(i){for(var e in i)if(i.hasOwnProperty(e)){var n=i[e],a=t(e);n.animated!==!0&&this.isScrolledIntoView(n.top)&&(a.find(".is-animated").addClass("animated"),n.animated=!0,this.lazyloadImage(a),"#section-2"===e&&this.activateFeatureSlider())}},lazyloadImage:function(i){i.find("[data-src]").each(function(){var i=t(this);i.attr("src",i.data("src"))})},bindScrollAnimation:function(){var i=this;for(var n in e)if(e.hasOwnProperty(n)){var a=t(n),r=a.offset().top;t(n).find(".is-animated").addClass("fade-in-up"),e[n]={top:r,bottom:r+a.height()}}t(window).on("scroll",function(){i.detectVisibleGroup(e)})},activateSceneSlider:function(){var i=0,e=2400,n=240,a=t(window).width(),r=Math.ceil((e-a)/n),o=a-Math.ceil(a/n-1)*n,s=t(".entry-slider-prev"),c=t(".entry-slider-next"),d=function(i){t(".entry-slider").css("transform","translateX(-"+i+"px)")},l=function(){d(0),s.hide(),c.show()};t(".entry-slider-wrapper .entry-slider-action").on("click",function(e){var a=t(e.currentTarget);if(a.hasClass("entry-slider-prev")){var l=0;l>=0&&(0===l&&a.hide(),i=l,c.show())}else{var l=r;r>=l&&(l===r&&a.hide(),i=l,s.show())}d(i===r?n*i-o:n*i)}),l(),a>e&&t(".entry-slider-wrapper .entry-slider-action").hide()},activateFeatureSlider:function(){var i=".entry-underline-list",e=t("#entry-underline-line"),n=t(i+" li:first"),a=t(i).find("li"),r=0,o=(a.length,function(t,i){e.css("transform","translateX("+t+"px)").width(i)});o(n.offset().left,n.width()),e.show(),t(i).on("click","li",function(i){var e=t(i.target),n=e.index()+1;r=n-1,t(".entry-carsouel li").removeClass("active"),t(".entry-carsouel li div").removeClass("slide-animated"),t(".entry-carsouel li:nth-child("+n+")").addClass("active").children("div").addClass("slide-animated"),o(e.offset().left,e.width())})},activateBannerAnimate:function(){t(".entry-carsouel-dline").on("mousemove",i.throttle(function(i){var e=t(window).width(),n=function(i,e){t(i).css({"-webkit-transform":e,"-moz-transform":e,"-ms-transform":e,"-o-transform":e,transform:e})},a=t(window).height(),r=-25*(i.pageX/e-.5)||10,o=-20*-(i.pageY/a-.5)||10;n(".entry-carsouel-bg-wrapper","translateX("+3*r+"px) translateY("+3*o+"px)"),t(".entry-carsouel-dline").each(function(t,i){var e=.6*(6-t),a="translateX("+r*e+"px) translateY("+o*e+"px)";n(i,a)})},40))}};n.init(),t(window).on("resize",function(){n.init()})}();